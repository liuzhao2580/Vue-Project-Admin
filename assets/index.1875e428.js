import{d as C,r as V,K as w,c as p,o as m,e as E,i as f,f as s,g as d,w as c,O as F,j as b,_ as h,C as R,G as A,t as D,H as q,J as I,E as v,p as B,n as T,v as M,l as P,P as j,R as N}from"./index.9362ddba.js";import{c as U,a as H}from"./index.esm.f1de3735.js";import{q as L}from"./article.f9c610b1.js";const O={class:"big-screen-title"},z={class:"title-input"},G={class:"button-box"},J=b("\u9884\u89C8"),K=C({__name:"ArticleTitle",emits:["releaseClick"],setup(o,{emit:e}){const n=V({titleValue:""}),_=w(()=>{let t=!1;return n.titleValue||(t=!0),t}),r=()=>{e("releaseClick",n.titleValue)};return(t,a)=>{const l=p("el-input"),i=p("el-button");return m(),E("div",O,[f(" \u6587\u7AE0\u6807\u9898 "),s("div",z,[d(l,{placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898",class:"article-title",modelValue:n.titleValue,"onUpdate:modelValue":a[0]||(a[0]=u=>n.titleValue=u)},null,8,["modelValue"])]),f(" \u9884\u89C8\u6309\u94AE "),s("div",G,[d(i,{type:"primary",disabled:F(_),onClick:r},{default:c(()=>[J]),_:1},8,["disabled"])])])}}});const W=h(K,[["__scopeId","data-v-db80704d"],["__file","D:/My-Project/Vue-Project-Admin/src/views/article/created/components/ArticleTitle.vue"]]),Q=o=>(B("data-v-f6eece81"),o=o(),T(),o),X={class:"article-title"},Y={class:"release-container-box"},Z=["innerHTML"],ee={class:"article-category-box"},te=Q(()=>s("p",{class:"article-category-title"},"\u6587\u7AE0\u5206\u7C7B",-1)),oe={class:"article-category"},ae={class:"dialog-footer"},le=b("\u53D6 \u6D88"),ie=b("\u53D1 \u5E03"),se={name:"ReleaseContainer"},ne=C({...se,props:{visible:{type:Boolean,required:!0},title:{type:String,required:!0},articleContainer:{type:String,required:!0},categoryData:{type:Array,required:!0}},emits:["update:visible"],setup(o,{emit:e}){const n=o,_=()=>e("update:visible",!1),r=V({categoryValue:"",visibleFlag:!1}),t=w(()=>{let i=!1;return r.categoryValue||(i=!0),i}),a=i=>{const u=n.categoryData.find(y=>y.id===i);console.log(u,"getFind")},l=()=>{v.success("\u53EA\u505A\u6D4B\u8BD5\u54DF~~~~~"),_()};return R(()=>n.visible,()=>{r.visibleFlag=n.visible}),(i,u)=>{const y=p("el-radio"),S=p("el-radio-group"),x=p("el-button"),$=p("el-dialog");return m(),A($,{title:"\u6587\u7AE0\u9884\u89C8",modelValue:r.visibleFlag,"onUpdate:modelValue":u[1]||(u[1]=g=>r.visibleFlag=g),width:"80%","close-on-click-modal":!1,"custom-class":"article-dialog-box",onClose:_,draggable:""},{footer:c(()=>[s("span",ae,[d(x,{onClick:_},{default:c(()=>[le]),_:1}),d(x,{type:"primary",disabled:F(t),onClick:l},{default:c(()=>[ie]),_:1},8,["disabled"])])]),default:c(()=>[s("div",X,D(o.title),1),s("div",Y,[s("div",{class:"release-container",innerHTML:o.articleContainer},null,8,Z)]),s("div",ee,[te,s("div",oe,[d(S,{modelValue:r.categoryValue,"onUpdate:modelValue":u[0]||(u[0]=g=>r.categoryValue=g),onChange:a},{default:c(()=>[(m(!0),E(I,null,q(o.categoryData,g=>(m(),A(y,{label:g.id,key:g.id,class:"category-item"},{default:c(()=>[b(D(g.category_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["modelValue"])}}});const re=h(ne,[["__scopeId","data-v-f6eece81"],["__file","D:/My-Project/Vue-Project-Admin/src/views/article/created/components/ReleaseContainer.vue"]]),k=o=>(B("data-v-9b10274c"),o=o(),T(),o),ce={class:"article-created-box"},de=k(()=>s("div",{id:"toolbar-container"},null,-1)),ue=k(()=>s("div",{id:"editor-container"},null,-1)),_e={name:N.ARTICLE_CREATE},ge=C({..._e,setup(o){const e=V({wangEditor:null,articleTitle:"",articleContainer:"",dialogVisible:!1,categoryData:[]});M(()=>{n(),_()});const n=async()=>{const t=await L({level:2});t.code===P.SUCCESS?e.categoryData=t.data:v.error(t.msg)},_=()=>{const t=document.querySelector(".article-created-box").scrollHeight,a=document.querySelector("#editor-container");a.style.height=`${t-200}px`;const l={scroll:!1,MENU_CONF:{uploadImage:{base64LimitSize:5e3*1024}}};l.placeholder="\u8BF7\u8F93\u5165\u5185\u5BB9";const i=U({selector:"#editor-container",config:l,mode:"default"});H({editor:i,selector:"#toolbar-container",mode:"default"}),e.wangEditor=i},r=t=>{var a,l;if(e.articleTitle=t,e.wangEditor){if(!((a=e.wangEditor)!=null&&a.getText()))return v.warning("\u8F93\u5165\u5185\u5BB9");e.articleContainer=(l=e.wangEditor)==null?void 0:l.getHtml(),e.dialogVisible=!0}};return j(()=>{var t;(t=e.wangEditor)==null||t.destroy(),e.wangEditor=null}),(t,a)=>{const l=p("el-col");return m(),E("div",ce,[d(l,{xs:24,sm:24},{default:c(()=>[d(W,{onReleaseClick:r})]),_:1}),f(" \u7F16\u8F91\u5668 "),d(l,{xs:24,sm:24,class:"editor-box"},{default:c(()=>[de,ue]),_:1}),f(" \u9884\u89C8 "),d(re,{title:e.articleTitle,articleContainer:e.articleContainer,categoryData:e.categoryData,visible:e.dialogVisible,"onUpdate:visible":a[0]||(a[0]=i=>e.dialogVisible=i)},null,8,["title","articleContainer","categoryData","visible"])])}}});const be=h(ge,[["__scopeId","data-v-9b10274c"],["__file","D:/My-Project/Vue-Project-Admin/src/views/article/created/index.vue"]]);export{be as default};
